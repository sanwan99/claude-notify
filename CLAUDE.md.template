# 🤖 Claude 自动通知规则模板

将此文件复制到你的项目根目录，重命名为 `CLAUDE.md`，并根据实际情况修改路径。

---

# 项目自动通知规则

## 📍 通知脚本路径
```
CLAUDE_NOTIFY_PATH=/path/to/claude-notify
```
**重要**：将上面的路径替换为你的 claude-notify 实际安装路径！

## 🔔 自动通知规则

### 1. 任务完成通知
当你完成以下类型的任务时，请自动发送成功通知：

- **代码生成/修改**：完成代码编写、重构、优化等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh success "代码任务完成" "具体描述"
  ```

- **数据处理**：完成数据分析、报表生成、文件处理等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh success "数据处理完成" "处理了X条记录"
  ```

- **构建部署**：完成编译、测试、部署等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh build "构建完成" "耗时X秒"
  ```

### 2. 错误通知
遇到以下情况时，请自动发送错误通知：

- **执行失败**：命令执行错误、编译失败、测试失败等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh error "任务失败" "错误详情"
  ```

- **异常情况**：发现bug、数据异常、配置错误等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh error "发现问题" "问题描述"
  ```

### 3. 需要确认通知
遇到以下情况时，请发送警告通知并等待确认：

- **危险操作**：删除文件、修改重要配置、操作生产环境等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh warning "需要确认" "即将执行的操作"
  ```

- **重要决策**：架构选择、技术方案、大规模重构等
  ```bash
  $CLAUDE_NOTIFY_PATH/claude-notify.sh warning "需要决策" "选项说明"
  ```

## 📏 通知规则

### 什么时候通知
- ✅ 任务耗时超过 30 秒
- ✅ 完成重要里程碑
- ✅ 遇到错误或异常
- ✅ 需要人工确认或输入
- ✅ 批量任务完成

### 什么时候不通知
- ❌ 简单查询或解释
- ❌ 快速命令执行（< 10秒）
- ❌ 连续相似的小任务
- ❌ 中间步骤（除非特别重要）

## 💡 通知内容规范

### 标题格式
- 简洁明了（5-10个字）
- 说明任务类型
- 例如："数据分析完成"、"构建失败"、"需要确认"

### 消息格式
- 包含关键信息
- 数字化结果（如：处理了1000条记录）
- 必要时包含耗时
- 例如："处理了 1,234 条日志，发现 12 个异常"

## 🎯 特殊项目规则

<!-- 在这里添加你的项目特定规则 -->
### 示例：数据分析项目
- 数据集加载完成后通知
- 每个分析阶段完成后通知
- 生成报告后通知并提供摘要

### 示例：Web 开发项目
- 前端构建完成后通知
- 后端 API 测试完成后通知
- 部署成功后通知

---

**提示**：
1. 保存此文件为项目根目录的 `CLAUDE.md`
2. 根据项目实际需求调整规则
3. Claude 会自动读取并遵守这些规则